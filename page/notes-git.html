<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Git Notes</title>
        <link rel="icon" type="image/x-icon" href="../img/favicon.ico">
        <link rel="stylesheet" href="../style.css">
        <script src="../script.js"></script>

        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/atom-one-dark.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>
    
    <body style="background-color: #015761;">
        <header>
            <nav class="navbar navbar-expand navbar-expand-lg navbar-expand-sm">
                <div class="nav-collapse">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="../index.html" title="Home">Home</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="about-me.html" title="About Me">Me</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="course-record.html" title="Course Record">Course</a>
                        </li>
                        <li class="nav-item dropdown active">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" title="Study Notes">Notes</a>
                            <ul class="dropdown-menu dropdown-menu-dark">
                                <li>
                                    <a class="dropdown-item" href="notes-c++.html" title="C++ Notes">C++</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="notes-git.html" title="Git Notes">Git</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="notes-ml.html" title="Machine Learning Notes">ML</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="https://www.instagram.com/conan_bbx/" title="Instagram" target="_blank"><img src="../img/instagram.png"></a>    
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://www.facebook.com/conan.huang.96/" title="Facebook" target="_blank"><img src="../img/facebook.png"></a>    
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://github.com/conan0220" title="GitHub" target="_blank"><img src="../img/github.png"></a>    
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="" title="Gmail"><img src="../img/gmail.png" onclick="copyToClipBoard('conanhuang8382@gmail.com')"></a>    
                        </li>
                    </ul>
                </div>
            </nav>
        </header> 

        <main>
            <h1 class="title">Git Notes <span style="color:white; font-size:.7rem">2022 / 09 / 08</span></h1>
            <hr>
            <p>歡迎來到 Git 的世界，這裡是我的學習筆記。</p>
            <section>
                <h2 class="title">指令</h2>
                <hr>
                <h3 class="title">移除、改名</h3>
                <p>
                    從 git 跟 資料夾 中 移除檔案
                    <code>git rm &lt;檔名.副檔名&gt;</code>
                </p>
                <p>
                    從 git 中 移除檔案
                    <code>git rm &lt;檔名.副檔名&gt; --cached</code>
                </p>
                <p>
                    復原暫存區內檔案的變更
                    <code>git restore --staged &lt;檔案名稱&gt;</code>
                </p>
                <p>
                    更改檔案名稱
                    <code>git mv &lt;檔名.副檔名&gt; &lt;更改後 檔名.副檔名&gt;</code>
                </p>
                <h3 class="title">檢視提交紀錄</h3>
                <p>
                    檢視 commit history 
                    <code>git log</code>
                </p>
                <p>
                    <table style="border-collapse: separate;">
                        <caption style="caption-side: top; color: white;">git log 的常用選項</caption>
                        <colgroup>
                        <col style="width: auto;">
                        <col style="width: auto">
                        </colgroup>
                        <thead>
                            <tr class="title">
                                <th>選項</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><p><code>-p</code></p></td>
                                <td><p>顯示每筆提交的補綴。</p></td>
                            </tr>
                            <tr>
                                <td><p><code>--stat</code></p></td>
                                <td><p>顯示每筆提交中更動檔案的統計及摘要資訊。</p></td>
                            </tr>
                            <tr>
                                <td><p><code>--shortstat</code></p></td>
                                <td><p>只顯示 --stat 提供的的訊息中關於更動、插入、刪除的文字。</p></td>
                            </tr>
                            <tr>
                                <td><p><code>--name-only</code></p></td>
                                <td><p>在提交訊息後方顯示更動的檔案列表。</p></td>
                            </tr>
                            <tr>
                                <td><p><code>--name-status</code></p></td>
                                <td><p>在檔案列表顯示「新增」、「更動」、「刪除」等資訊。</p></td>
                            </tr>
                            <tr>
                                <td><p><code>--abbrev-commit</code></p></td>
                                <td><p>只顯示 SHA-1 校驗碼的前幾位數，而不是顯示全部 40 位數。</p></td>
                            </tr>
                            <tr>
                                <td><p><code>--relative-date</code></p></td>
                                <td><p>以相對時間格式顯示日期（例如：「2 weeks ago」），而不是使用完整的日期格式。</p></td>
                            </tr>
                            <tr>
                                <td><p><code>--graph</code></p></td>
                                <td><p>在輸出的日誌旁邊顯示分支及合併歷史的 ASCII 圖形。</p></td>
                            </tr>
                            <tr>
                                <td><p><code>--pretty</code></p></td>
                                <td><p>以其它格式顯示提交。選項包括 oneline、short、full、fuller 及可自訂格式的 format。</p></td>
                            </tr>
                            <tr>
                                <td><p><code>--oneline</code></p></td>
                                <td><p>只顯示 commit 紀錄名稱</p></td>
                            </tr>
                        </tbody>
                    </table>
                </p>
                <h3 class="title">遠端版本庫</h3>
                <p>
                    新增遠端版本庫
                    <code>git remote add &lt;簡稱&gt; &lt;url&gt;</code>
                </p>
                <p>
                    檢視已經設定好的遠端版本庫
                    <code>git remote</code>
                </p>
                <p>
                    顯示 git 用來讀寫遠端簡稱時所用的網址
                    <code>git remote -v</code>
                </p>
                <h3 class="title">分支</h3>
                <p>
                    建立一個新的分支
                    <code>git branch &lt;分支名&gt;</code>
                </p>
                <p>
                    刪除本地分支
                    <code>git branch -d &lt;分支名&gt;</code>
                </p>
                <p>
                    在分支之間切換
                    <code>git checkout &lt;分支名&gt;<br>git switch &lt;分支名&gt; # git 2.23 加入的新指令</code>
                </p>
                <p>
                    檢視本地所有分支 
                    <code>git branch</code>
                </p>
                <p>
                    檢視遠端所有分支
                    <code>git branch -r</code>
                </p>
                <p>
                    檢視本地和遠端的所有分支
                    <code>git branch -a</code>
                </p>
                <p>
                    重新命名本地分支
                    <code>git branch -m &lt;舊分支&gt; &lt;新分支&gt;</code>
                </p>
                <p>
                    合併分支
                    <code>git merge &lt;分支名&gt; # 合併到當前分支</code>
                </p>
                <table>
                    <caption style="caption-side: top; color: white;">一些常用選項</caption>
                    <colgroup>
                    <col style="width: 10rem">
                    <col style="width: auto">
                    </colgroup>
                    <thead>
                        <tr class="title">
                            <th>選項</th>
                            <th>說明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><p><code>-d</code></p></td>
                            <td><p>--delete 刪除</p></td>
                        </tr>
                        <tr>
                            <td><p><code>-D</code></p></td>
                            <td><p>--delete --force 的快捷鍵</p></td>
                        </tr>
                        <tr>
                            <td><p><code>-f</code></p></td>
                            <td><p>--force 強制</p></td>
                        </tr>
                        <tr>
                            <td><p><code>-m</code></p></td>
                            <td><p>--move 移動或重新命名</p></td>
                        </tr>
                        <tr>
                            <td><p><code>-M</code></p></td>
                            <td><p>--move --force 的快捷鍵</p></td>
                        </tr>
                        <tr>
                            <td><p><code>-r</code></p></td>
                            <td><p>--remote 遠端</p></td>
                        </tr>
                        <tr>
                            <td><p><code>-a</code></p></td>
                            <td><p>--all 所有</p></td>
                        </tr>
                    </tbody>
                </table>
                <h3 class="title">fetch 用法</h3>
                <p>
                    將某個遠端主機的更新全部取回本地
                    <code>git fetch &lt;遠端主機名&gt;</code>
                </p>
                <p>
                    只取回特定分支的更新
                    <code>git fetch &lt;遠端主機名&gt; &lt;分支名&gt;</code>
                </p>
                <p>
                    取回更新後，會返回一個FETCH_HEAD ，指的是某個branch在伺服器上的最新狀態，我們可以在本地通過它檢視剛取回的更新資訊
                    <code>git log -p FETCH_HEAD</code>
                </p>
                <h3 class="title">pull 用法</h3>
                <p>
                    git pull 的過程可以理解為
                    <code>git fetch origin master # 從遠端主機的master分支拉取最新內容<br>git merge FETCH_HEAD # 將拉取下來的最新內容合併到當前所在的分支中</code>
                </p>
                <p>
                    即將遠端主機的某個分支的更新取回，並與本地指定的分支合併，完整格式可表示為
                    <code>git pull &lt;遠端主機名&gt; &lt;遠端分支名&gt;:&lt;本地分支名&gt;</code>
                </p>
                <p>
                    如果遠端分支是與當前分支合併，則冒號後面的部分可以省略
                    <code>git pull &lt;遠端主機名&gt; &lt;遠端分支名&gt;</code>
                </p>
                <p>
                    本地和遠端的 commit 歷程不一致，被視為是分開的不同專案，使用以下指令來合併到當前分支
                    <code>git pull &lt;遠端主機名&gt; &lt;遠端分支名&gt; --allow-unrelated-histories</code>
                </p>
            </section>
            <section>
                <h2 class="title">資料來源</h2>
                <hr>
                <ul>
                    <big> 
                        <li>
                            <a target="_blank" href="https://git-scm.com/book/zh-tw/v2/%E9%96%8B%E5%A7%8B-%E9%97%9C%E6%96%BC%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6">Git Official Website</a>
                        </li>
                        <li>
                            <a target="_blank" href="https://iter01.com/539474.html">git fetch & pull詳解</a>
                        </li>
                        <li>
                            <a target="_blank" href="https://matthung0807.blogspot.com/2020/04/git-pull-refusing-to-merge-unrelated.html">Git pull refusing to merge unrelated histories</a>
                        </li>
                        <li>
                            <a target="_blank" href="https://hackmd.io/@EdwardWu/GitTutorial#%E7%B7%A8%E8%BC%AF%E6%AA%94%E6%A1%88">03/09 嵌入式系統實驗 Git, GitHub, and GitPi (Part 1)</a>
                        </li>
                        <li>
                            <a target="_blank" href="https://hackmd.io/@EdwardWu/GitBranch">03/16 嵌入式系統實驗 Git, GitHub, and GitPi (Part 2)</a>
                        </li>
                    </big>
                </ul>
            </section>
        </main>
    </body>    
</html>